import{j as e,m as t,c as s,L as a,d as l,C as o,A as i}from"./ui-BjxIis6X.js";import{L as r,r as n}from"./router-Cu2lpERZ.js";import{g as c,a as d,b as x,S as m}from"./index-jkHuebR5.js";import{P as h}from"./PageAnimator-Be5iS2Sm.js";import{f as u}from"./format-8hQqAUQ4.js";import{e as p}from"./es-DafM-x2e.js";import{C as j}from"./CountdownTimer-B3z9_dwv.js";import"./vendor-DOHx2j1n.js";import"./differenceInCalendarDays-CQPmy639.js";const g=({raffle:s})=>{const a=s.sold/s.tickets*100;return e.jsxs(t.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5},className:"bg-background-secondary rounded-lg overflow-hidden shadow-lg shadow-black/30 border border-slate-700/50 flex flex-col",children:[e.jsx(r,{to:`/sorteo/${s.slug}`,children:e.jsx("img",{src:s.heroImage,alt:s.title,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 flex-grow",children:s.title}),e.jsxs("div",{className:"my-4",children:[e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:e.jsx("div",{className:"bg-accent h-2.5 rounded-full",style:{width:`${a}%`}})}),e.jsxs("p",{className:"text-right text-sm text-slate-400 mt-2",children:[a.toFixed(2),"% vendido"]})]}),e.jsx(r,{to:`/sorteo/${s.slug}`,className:"block w-full text-center bg-action text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity mt-auto",children:"Ver Sorteo"})]})]})},b=({winner:a})=>e.jsxs(t.div,{className:"bg-background-secondary rounded-lg overflow-hidden shadow-lg shadow-black/30 border border-slate-700/50 p-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(s,{className:"text-yellow-400 h-12 w-12 mx-auto mb-4"}),e.jsx("img",{src:a.imageUrl,alt:a.prize,className:"w-24 h-24 rounded-full object-cover mx-auto mb-4 border-4 border-accent"}),e.jsx("p",{className:"text-xl font-bold text-white",children:a.name}),e.jsx("p",{className:"text-slate-300",children:"Ganó"}),e.jsx("p",{className:"text-lg font-semibold text-accent mb-2",children:a.raffleTitle}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Sorteo del ",u(new Date(a.drawDate),"dd 'de' MMMM, yyyy",{locale:p})]})]}),f=()=>{const t=[{icon:a,title:"Elige tu Sorteo",description:"Explora nuestros sorteos activos y encuentra el premio de tus sueños."},{icon:l,title:"Selecciona tus Boletos",description:"Escoge tus números de la suerte, llena tus datos y aparta tu lugar. ¡Es fácil y rápido!"},{icon:s,title:"¡Gana!",description:"Sigue el sorteo en la fecha indicada. ¡El próximo ganador podrías ser tú!"}];return e.jsx("section",{className:"bg-background-secondary py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-12",children:"¿Cómo Funciona?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:t.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center p-6",children:[e.jsx("div",{className:"bg-accent/20 text-accent p-4 rounded-full mb-4",children:e.jsx(t.icon,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-slate-400",children:t.description})]},s))})]})})},N=({question:s,answer:a,isOpen:l,onClick:r})=>e.jsxs("div",{className:"bg-background-secondary rounded-lg border border-slate-700/50",children:[e.jsxs("button",{onClick:r,className:"w-full flex justify-between items-center text-left p-6",children:[e.jsx("span",{className:"font-semibold text-white",children:s}),e.jsx(t.div,{animate:{rotate:l?180:0},children:e.jsx(o,{className:"text-white"})})]}),e.jsx(i,{children:l&&e.jsx(t.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-6 pb-6 text-slate-300",children:a})})})]}),w=()=>{const[t,s]=n.useState([]),[a,l]=n.useState(null);n.useEffect(()=>{c().then(e=>s(e.faqs))},[]);return 0===t.length?null:e.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Preguntas Frecuentes"}),e.jsx("div",{className:"space-y-4",children:t.map(t=>e.jsx(N,{question:t.question,answer:t.answer,isOpen:a===t.id,onClick:()=>{return e=t.id,void l(t=>t===e?null:e);var e}},t.id))})]})},y=()=>{const[t,s]=n.useState([]),[a,l]=n.useState([]),[o,i]=n.useState(!0);n.useEffect(()=>{i(!0),Promise.all([d(),x()]).then(([e,t])=>{s(e),l(t)}).catch(e=>{console.error("Failed to load home page data",e)}).finally(()=>{i(!1)})},[]);const c=t.length>0?t[0]:null,u=t.length>1?t.slice(1):[];return e.jsxs(h,{children:[o?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx(m,{})}):c?e.jsx("div",{className:"container mx-auto px-4 pt-16 text-center",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-background-secondary rounded-lg p-6 md:p-8 border border-slate-700/50 shadow-lg shadow-neon-accent",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Próximo Gran Sorteo"}),e.jsx("img",{src:c.heroImage,alt:c.title,className:"w-full h-64 md:h-96 object-cover rounded-lg mb-6"}),e.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-white mb-4",children:c.title}),e.jsx("div",{className:"mb-8",children:e.jsx(j,{targetDate:c.drawDate})}),e.jsx(r,{to:`/sorteo/${c.slug}`,className:"inline-block bg-action text-white font-bold py-3 px-12 rounded-lg hover:opacity-90 transition-opacity text-lg",children:"¡Participa Ahora!"})]})}):null,!o&&u.length>0&&e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Más Sorteos Disponibles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(t=>e.jsx(g,{raffle:t},t.id))})]}),!o&&0===t.length&&e.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:e.jsx("p",{className:"text-slate-400 text-lg",children:"No hay sorteos activos en este momento. ¡Vuelve pronto!"})}),e.jsx(f,{}),a.length>0&&e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Nuestros Últimos Ganadores"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(t=>e.jsx(b,{winner:t},t.id))})]}),e.jsx(w,{})]})};export{y as default};
