import{j as t,A as e,m as n}from"./ui-BjxIis6X.js";import{r as s,c as o}from"./router-Cu2lpERZ.js";import{t as r,c as a,n as u,d as l,m as i,a as c}from"./differenceInCalendarDays-CQPmy639.js";function d(t,e,n){const{years:s=0,months:o=0,weeks:u=0,days:l=0,hours:i=0,minutes:c=0,seconds:d=0}=e,m=r(t,null==n?void 0:n.in),h=o||s?function(t,e,n){const s=r(t,null==n?void 0:n.in);if(isNaN(e))return a(t,NaN);if(!e)return s;const o=s.getDate(),u=a(t,s.getTime());return u.setMonth(s.getMonth()+e+1,0),o>=u.getDate()?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}(m,o+12*s):m,g=l||u?function(t,e,n){const s=r(t,null==n?void 0:n.in);return isNaN(e)?a(t,NaN):e?(s.setDate(s.getDate()+e),s):s}(h,l+7*u):h;return a(t,+g+1e3*(d+60*(c+60*i)))}function m(t,e){const n=+r(t)-+r(e);return n<0?-1:n>0?1:n}function h(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function g(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return 0===n?0:n}}function f(t,e){return+r(t)-+r(e)}function x(t,e){const n=r(t,null==e?void 0:e.in);return+function(t,e){const n=r(t,null==e?void 0:e.in);return n.setHours(23,59,59,999),n}(n,e)===+function(t,e){const n=r(t,null==e?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}(n,e)}function v(t,e,n){const[s,o,r]=u(null==n?void 0:n.in,t,t,e),a=m(o,r),l=Math.abs(function(t,e,n){const[s,o]=u(null==n?void 0:n.in,t,e);return 12*(s.getFullYear()-o.getFullYear())+(s.getMonth()-o.getMonth())}(o,r));if(l<1)return 0;1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-a*l);let i=m(o,r)===-a;x(s)&&1===l&&1===m(s,r)&&(i=!1);const c=a*(l-+i);return 0===c?0:c}function M(t,e,n){const[s,o]=u(null==n?void 0:n.in,t,e),r=m(s,o),a=Math.abs(function(t,e,n){const[s,o]=u(null==n?void 0:n.in,t,e);return s.getFullYear()-o.getFullYear()}(s,o));s.setFullYear(1584),o.setFullYear(1584);const l=r*(a-+(m(s,o)===-r));return 0===l?0:l}function b(t,e){const{start:n,end:s}=function(t,e){const[n,s]=u(t,e.start,e.end);return{start:n,end:s}}(null==e?void 0:e.in,t),o={},r=M(s,n);r&&(o.years=r);const a=d(n,{years:o.years}),m=v(s,a);m&&(o.months=m);const x=d(a,{months:o.months}),b=function(t,e,n){const[s,o]=u(null==n?void 0:n.in,t,e),r=h(s,o),a=Math.abs(l(s,o));s.setDate(s.getDate()-r*a);const i=r*(a-Number(h(s,o)===-r));return 0===i?0:i}(s,x);b&&(o.days=b);const y=d(x,{days:o.days}),N=function(t,e,n){const[s,o]=u(null==n?void 0:n.in,t,e),r=(+s-+o)/i;return g(null==n?void 0:n.roundingMethod)(r)}(s,y);N&&(o.hours=N);const j=d(y,{hours:o.hours}),p=function(t,e,n){const s=f(t,e)/c;return g(null==n?void 0:n.roundingMethod)(s)}(s,j);p&&(o.minutes=p);const D=function(t,e,n){const s=f(t,e)/1e3;return g(null==n?void 0:n.roundingMethod)(s)}(s,d(j,{minutes:o.minutes}));return D&&(o.seconds=D),o}const y=({targetDate:a})=>{const u=()=>{const t=new Date;if(e=a,+r(t)>+r(e))return{days:0,hours:0,minutes:0};var e;const n=b({start:t,end:a});return{days:n.days||0,hours:n.hours||0,minutes:n.minutes||0}},[l,i]=s.useState(u());s.useEffect(()=>{const t=setTimeout(()=>{i(u())},6e4);return()=>clearTimeout(t)});const c=[{label:"Día",value:l.days},{label:"Hora",value:l.hours},{label:"Minuto",value:l.minutes}];return 0===l.days&&0===l.hours&&0===l.minutes?t.jsx("div",{className:"text-center font-bold text-accent text-2xl",children:"¡EL SORTEO HA FINALIZADO!"}):t.jsx("div",{className:"flex justify-center items-center gap-1 sm:gap-2",children:c.map((s,r)=>t.jsxs(o.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"text-xs sm:text-sm text-slate-300 mb-1",children:[s.label,1!==s.value?"s":""]}),t.jsx("div",{className:"flex gap-1",children:String(s.value).padStart(2,"0").split("").map((s,o)=>t.jsxs("div",{className:"relative w-8 h-12 sm:w-12 sm:h-16 bg-background-primary rounded-md shadow-md overflow-hidden",children:[t.jsx(e,{children:t.jsx(n.div,{initial:{y:"-100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.4,ease:"easeInOut"},className:"absolute inset-0 flex items-center justify-center text-2xl sm:text-4xl font-bold text-white",children:s},s)}),t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-black/50"})]},o))})]}),r<c.length-1&&t.jsx("div",{className:"text-3xl sm:text-4xl text-slate-500 mt-5",children:":"})]},s.label))})};export{y as C};
